{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
{% if is_granted("ROLE_ADMIN") %}
            
<div class="container text-center">
    <h1>panneau de configuration</h1>
    <div class="row">
        <div class="col">
        
        <table class="table table-sm">

            <h2><a href="{{ path('app_deck') }}">liste des deck</a></h2>
            
            <tr>
                <th>Nom</th>
                <th>option</th>
            </tr>
            
            {% for deck in decks %}
            <tr>
                <td><a href="{{ path('show_deck', {'id': deck.id}) }}">{{deck.title}}</a></td>
                <td><a href="{{ path('delete_deck', {'idDeck': deck.id}) }}"> Supprimer </a></td>
            </tr>
            {% endfor %}
            <a href="{{ path('new_deck') }}">Nouveau deck</a></br>
        </table>
        </div>
        <div class="col">
            <table class="table table-sm">

                <h2><a href="{{ path('app_category') }}">liste des Categories</a></h2>
                
                <tr>
                    <th>Nom</th>
                    <th>option</th>
                </tr>
                
                {% for category in categories %}
                <tr>
                    <td><a href="{{ path('show_category', {'id': category.id}) }}">{{category.name}}</a></td>
                    <td><a href="{{ path('delete_Category', {'categoryId': category.id}) }}"> Supprimer </a></td>
                </tr>
                {% endfor %}
                <a href="{{ path('new_category') }}">Nouvelle category</a></br>
    
            </table>
        </div>
    
        
    </div>
    <div class="row">
        <div class="col">
            <table class="table table-sm">

                <h2><a href="{{ path('app_topic') }}">liste des topics</a></h2>
                
                <tr>
                    <th>Nom</th>
                    <th>option</th>
                </tr>
                
                {% for topic in topics %}
                <tr>
                    <td><a href="{{ path('show_topic', {'topicId': topic.id}) }}">{{topic.title}}</a></td>
                    <td><a href="{{ path('delete_topic', {'topicId': topic.id}) }}"> Supprimer </a></td>
                </tr>
                {% endfor %}
                <a href="{{ path('new_topic') }}">Nouveau topic</a></br>
    
            </table>
        </div>
        
        <div class="col">
            <table class="table table-sm">

                <h2><a href="">gestions des posts</a></h2>
                
                <tr>
                    <th>cr√©e par</th>
                    <th>option</th>
                </tr>
                
                {% for post in posts %}
                <tr>
                    <td><a href="{{ path('show_post', {'postId': post.id}) }}">{{post.user}}</a></td>
                    <td><a href="{{ path('delete_post', {'postId': post.id}) }}"> Supprimer </a></td>
                </tr>
                {% endfor %}
                <a href="{{ path('new_post') }}">Nouveau post</a></br>
    
            </table>
        </div>
        
    </div>
    
</div>


{% endif %}
    
        

    
{% endblock %}