
<div id="listCards">
{% for card in cards.data %}

    <div id="{{card.id}}"  >
        <div class="image-carte-min">
            <dialog class="dialog">
                        <button autofocus class="closeDetailCard">
                            Fermer
                        </button>
                        <div class="detailCard">
                            <img class="imagedetail" src="{{ asset ('images/' ~ card.id ~ '.jpg') }}" alt="{{ card.name }}" >
                            <div class="tableauDetailCard">
                                <div class="namecard"><h6>Nom de carte</h6>
                                    <b>{{ card.name }}</b>
                                </div>
                                <div class="typecard">
                                    <b>Type de carte : </b>{{ card.type }}
                                </div>
                            
                                
                                {% if card.frameType == "normal" or card.frameType == "effect" or card.frameType == "ritual" or card.frameType == "fusion" or card.frameType == "synchro" or card.frameType == "xyz" or card.frameType == "pendulum" or card.frameType == "link" %}
                                    <div>
                                        <b>Attribut : </b>{{ card.attribute }}
                                    </div>
                                        
                                    {% if card.frameType == "normal" or card.frameType == "effect" or card.frameType == "ritual" or card.frameType == "fusion" or card.frameType == "synchro" %}
                                        <div><b>Niveau/Rang : </b>{{ card.level }}</div>
                                        <div><b>attaque : </b>{{ card.atk }}</div>
                                        <div><b>Défense : </b>{{ card.def }}</div>
                                    {% elseif card.frameType == "pendulum" %}
                                        <div><b>Niveau/Rang : </b>{{ card.level }}</div>
                                        <div><b>attaque : </b>{{ card.atk }}</div>
                                        <div><b>Défense : </b>{{ card.def }}</div>
                                        <div><b>Echelle : </b>{{ card.scale }}</div>
                                    {% elseif card.frameType == "link" %}
                                        <div><b>Lien : </b>{{ card.linkval }}</div>
                                        <div>
                                            <b>Pointe vers :</b>
                                            {% for linkmarker in card.linkmarkers %}
                                                {{ linkmarker }}
                                            {% endfor %}
                                        </div>
                                    {% endif %}
                                {% endif %}
                                <div class="caracard">
                                    <b>Type : </b>{{ card.race }}<br>
                                    <b>Effect : </b>{{ card.desc }}
                                </div>
                                
                            </div>
                            
                                
                        </div>
            </dialog>
                    <img class="img" src="{{ asset ('images/' ~ card.id ~ '.jpg') }} " alt="{{ card.name }}">
        </div>
        {#disparait à la recherche de card dans deck...#}
        {% if formDeck is defined %}
            <div id="card-info{{card.id}}">
                <div class="details">
                    <div class="carac">
                        <a href="{{ path('show_card', {'id': card.id}) }}">{{ card.name }}</a>
                        <p>{{ card.type }}</p>
            
                        {% if card.frameType == "normal" or card.frameType == "effect" or card.frameType == "ritual" or card.frameType == "fusion" or card.frameType == "synchro" or card.frameType == "xyz" or card.frameType == "pendulum" or card.frameType == "link" %}
                            <P>Attribut : {{ card.attribute }}<br>
                            {% if card.frameType == "normal" or card.frameType == "effect" or card.frameType == "ritual" or card.frameType == "fusion" or card.frameType == "synchro" %}
                                Niveau/Rang : {{ card.level }}<br>
                                attaque : {{ card.atk }}<br>
                                Défense : {{ card.def }}<br>
                            {% elseif card.frameType == "pendulum" %}
                                Niveau/Rang : {{ card.level }}<br>
                                attaque : {{ card.atk }}<br>
                                Défense : {{ card.def }}<br>
                                Echelle : {{ card.scale }}<br>
                            {% elseif card.frameType == "link" %}
                                Lien : {{ card.linkval }}<br>
                                Pointe vers :
                                {% for linkmarker in card.linkmarkers %}
                                    <p>{{ linkmarker }}</p>
                                {% endfor %}
                            {% endif %}
                        {% endif %}
                        Type : {{ card.race }}<br>
                        Effect : {{ card.desc }}</p>
                    </div>

                    <div class="data">   
                    
                        <form action="{{ path('card_add_to_deck', {'idDeck': deck.id}) }}" method="post">
                            <input type="hidden" name="name" value="{{ card.name }}">
                            <input type="hidden" name="race" value="{{ card.race }}">
                            <input type="hidden" name="effect" value="{{ card.desc }}">
                            <input type="hidden" name="typecard" value="{{ card.type }}">

                            {% if card.frameType == "normal" or card.frameType == "effect" or card.frameType == "ritual" or card.frameType == "fusion" or card.frameType == "synchro" or card.frameType == "xyz"%}
                                <input type="hidden" name="attribute" value="{{ card.attribute }}">
                                <input type="hidden" name="level" value="{{ card.level }}">
                                <input type="hidden" name="att" value="{{ card.atk }}">
                                <input type="hidden" name="def" value="{{ card.def }}">
                            {% elseif card.frameType == "link" %}
                                <input type="hidden" name="name" value="{{ card.name }}">
                                <input type="hidden" name="attribute" value="{{ card.attribute }}">
                                <input type="hidden" name="att" value="{{ card.atk }}">
                                <input type="hidden" name="link" value="{{ card.linkval }}">
                                <input type="hidden" name="linkmarker" value="{{ card.linkmarkers|join(',') }}">
                            {% endif %}

                            {% if card.typeline is defined %}
                                {% for typeline in card.typeline %}
                                    {% if typeline == "Pendulum" %}
                                        <input type="hidden" name="attribute" value="{{ card.attribute }}">
                                        <input type="hidden" name="level" value="{{ card.level }}">
                                        <input type="hidden" name="att" value="{{ card.atk }}">
                                        <input type="hidden" name="def" value="{{ card.def }}">
                                        <input type="hidden" name="scale" value="{{ card.scale }}">
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                            <input type="hidden" name="refCard" value="{{ card.id }}">
                            <input type="hidden" name="picture" value="{{ asset ('images/' ~ card.id ~ '.jpg') }}">
                            <button type="submit">
                                <i>add</i>
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        {% endif %}
    </div>               
{% endfor %}
</div> 
    <div id="pagination">
        <form id="pagingcard" action="{{ path('next_page') }}" method="post">
            {% if cards.meta.previous_page is defined %}
            <input name="urlPreviousPage" value="{{ cards.meta.previous_page }}" type="hidden">
                <button type="submit" title="PrevPage" id="prevPage">
                    <i>Previous</i>
                </button>
                
                    
            {% endif %}
            
            <a href="{{ path('next_page', {'num': cards.meta.total_pages}) }}"></a>     
                
            {% if cards.meta.next_page is defined %}
                <input name="urlNextPage" value="{{ cards.meta.next_page }}" type="hidden">
                <button type="submit" title="NextPage" id="nextPage">
                <i>Next</i>
            </button>
            {% endif %}
        </form> 
    </div>
   
    

    